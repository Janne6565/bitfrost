/* Animationen */
@keyframes swoopIn {
  0% {
    opacity: 0;
    transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(0.1);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes rainbowBeam {
  0% { transform: scaleY(0); opacity: 0.8; }
  50% { transform: scaleY(1); opacity: 1; }
  100% { transform: scaleY(0); opacity: 0; }
}

@keyframes rainbowFlow {
  0%   { background-position: 0% 50%; }
  100% { background-position: 400% 50%; }
}

/* Modal Styling */
.rainbow-modal {
  position: fixed !important;
  top: 50%;
  left: 50%;
  transform-origin: center center;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 0 40px rgba(0,0,0,0.4);
  overflow: hidden;
  animation: swoopIn 0.4s ease-out forwards;
}

.rainbow-modal::before {
  content: "";
  position: absolute;
  inset: -200% -50%;
  background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
  background-size: 400% 100%;
  opacity: 0;
  transform: scaleY(0);
  animation: rainbowBeam 0.3s ease-out forwards;
  z-index: 0;
}

.rainbow-modal::after {
  content: "";
  position: absolute;
  inset: 0;
  padding: 3px;
  background: linear-gradient(
    90deg,
    #FB3F2E,
    #FFB813,
    #2CC589,
    #178AEC,
    #9933ff,
    #ff33cc,
    #FB3F2E
  );
  background-size: 400% 400%;
  animation: rainbowFlow 12s linear infinite;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  z-index: 2;
}

.rainbow-modal > * {
  position: relative;
  z-index: 3;
}
